{% extends 'base.html' %}
{% load static %}

{% block title %}Come Funziona - RinnovoCasa{% endblock %}

{% block extra_css %}
<style>
    .step-card {
        transition: all 0.4s ease;
        border: none;
        box-shadow: 0 8px 30px rgba(0,0,0,0.08);
        border-radius: 20px;
        overflow: hidden;
    }
    
    .step-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 60px rgba(0,0,0,0.15);
    }
    
    .step-number {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        font-size: 1.5rem;
        margin: 0 auto 1.5rem;
        position: relative;
        z-index: 2;
    }
    
    .step-number::before {
        content: '';
        position: absolute;
        top: -3px;
        left: -3px;
        right: -3px;
        bottom: -3px;
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4, #ffeaa7);
        border-radius: 50%;
        z-index: -1;
        animation: rainbow 3s linear infinite;
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    
    .step-card:hover .step-number::before {
        opacity: 1;
    }
    
    @keyframes rainbow {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    
    .timeline-line {
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, transparent 0%, #667eea 50%, transparent 100%);
        transform: translateY(-50%);
        opacity: 0.3;
        z-index: 1;
    }
    
    .process-section {
        position: relative;
        padding: 100px 0;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    }
    
    .floating-elements {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        pointer-events: none;
    }
    
    .floating-element {
        position: absolute;
        opacity: 0.1;
        animation: float 6s ease-in-out infinite;
    }
    
    .floating-element:nth-child(1) { top: 10%; left: 10%; animation-delay: 0s; }
    .floating-element:nth-child(2) { top: 20%; right: 10%; animation-delay: 2s; }
    .floating-element:nth-child(3) { bottom: 10%; left: 20%; animation-delay: 4s; }
    
    @keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
    }
    
    .hero-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        position: relative;
        overflow: hidden;
    }
    
    .hero-content {
        position: relative;
        z-index: 2;
    }
    
    .animated-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="25" cy="25" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="3" fill="rgba(255,255,255,0.08)"/><circle cx="50" cy="10" r="1.5" fill="rgba(255,255,255,0.12)"/></svg>');
        animation: drift 20s linear infinite;
    }
    
    @keyframes drift {
        0% { transform: translateX(0px); }
        100% { transform: translateX(100px); }
    }
    
    .feature-icon {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.5rem;
        margin-bottom: 1rem;
        transition: all 0.3s ease;
    }
    
    .feature-card:hover .feature-icon {
        transform: scale(1.1) rotate(5deg);
    }
    
    .feature-card {
        padding: 2rem;
        border-radius: 20px;
        background: white;
        box-shadow: 0 10px 40px rgba(0,0,0,0.05);
        transition: all 0.3s ease;
        border: 1px solid rgba(255,255,255,0.1);
    }
    
    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 60px rgba(0,0,0,0.1);
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section text-white py-5">
    <div class="animated-bg"></div>
    <div class="container hero-content">
        <div class="row align-items-center min-vh-50">
            <div class="col-lg-6">
                <h1 class="display-3 fw-bold mb-4 animate__animated animate__fadeInUp">
                    Come Funziona RinnovoCasa
                </h1>
                <p class="lead mb-4 animate__animated animate__fadeInUp animate__delay-1s">
                    Il processo più semplice e veloce per ristrutturare la tua casa. 
                    Dalla diagnosi AI alla consegna, tutto in 4 semplici step.
                </p>
                <a href="#processo" class="btn btn-light btn-lg animate__animated animate__fadeInUp animate__delay-2s">
                    <i class="fas fa-arrow-down me-2"></i>Scopri Come
                </a>
            </div>
            <div class="col-lg-6">
                <div class="text-center animate__animated animate__fadeInRight animate__delay-1s">
                    <i class="fas fa-cogs" style="font-size: 8rem; opacity: 0.3;"></i>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Processo Section -->
<section id="processo" class="process-section">
    <div class="floating-elements">
        <i class="fas fa-home floating-element" style="font-size: 3rem;"></i>
        <i class="fas fa-tools floating-element" style="font-size: 2.5rem;"></i>
        <i class="fas fa-check-circle floating-element" style="font-size: 3.5rem;"></i>
    </div>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center mb-5">
                <h2 class="display-4 fw-bold mb-3">Il Nostro Processo</h2>
                <p class="lead text-muted">4 step semplici per trasformare la tua casa</p>
            </div>
        </div>
        
        <div class="row g-4 position-relative">
            <div class="timeline-line d-none d-lg-block"></div>
            
            <!-- Step 1 -->
            <div class="col-lg-3 col-md-6">
                <div class="step-card card h-100 text-center p-4">
                    <div class="step-number">1</div>
                    <h4 class="fw-bold mb-3">Diagnosi AI</h4>
                    <p class="text-muted mb-4">
                        Carica foto della tua casa e la nostra AI analizzerà lo stato 
                        degli impianti e delle strutture in tempo reale.
                    </p>
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-brain"></i>
                    </div>
                </div>
            </div>
            
            <!-- Step 2 -->
            <div class="col-lg-3 col-md-6">
                <div class="step-card card h-100 text-center p-4">
                    <div class="step-number">2</div>
                    <h4 class="fw-bold mb-3">Scegli Pacchetto</h4>
                    <p class="text-muted mb-4">
                        Ricevi suggerimenti personalizzati e scegli il pacchetto 
                        di ristrutturazione più adatto alle tue esigenze.
                    </p>
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-boxes"></i>
                    </div>
                </div>
            </div>
            
            <!-- Step 3 -->
            <div class="col-lg-3 col-md-6">
                <div class="step-card card h-100 text-center p-4">
                    <div class="step-number">3</div>
                    <h4 class="fw-bold mb-3">Impresa Certificata</h4>
                    <p class="text-muted mb-4">
                        Ti mettiamo in contatto con imprese certificate e qualificate 
                        nella tua zona, con garanzie e assicurazioni incluse.
                    </p>
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-certificate"></i>
                    </div>
                </div>
            </div>
            
            <!-- Step 4 -->
            <div class="col-lg-3 col-md-6">
                <div class="step-card card h-100 text-center p-4">
                    <div class="step-number">4</div>
                    <h4 class="fw-bold mb-3">Realizzo & Garanzia</h4>
                    <p class="text-muted mb-4">
                        Monitoriamo i lavori e garantiamo qualità e tempi. 
                        Paghi solo a lavoro completato con la nostra garanzia.
                    </p>
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Vantaggi Section -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center mb-5">
                <h2 class="display-4 fw-bold mb-3">Perché Scegliere RinnovoCasa</h2>
                <p class="lead text-muted">I vantaggi che ci rendono unici nel settore</p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-4 col-md-6">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h5 class="fw-bold mb-3">Tempi Garantiti</h5>
                    <p class="text-muted">
                        Rispettiamo sempre i tempi concordati con penali a nostro carico 
                        in caso di ritardi non giustificati.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-euro-sign"></i>
                    </div>
                    <h5 class="fw-bold mb-3">Prezzi Fissi</h5>
                    <p class="text-muted">
                        Nessun costo nascosto. Il prezzo che vedi è quello che paghi, 
                        con tutto incluso nel pacchetto.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-medal"></i>
                    </div>
                    <h5 class="fw-bold mb-3">Qualità Certificata</h5>
                    <p class="text-muted">
                        Lavoriamo solo con imprese certificate e offriamo 
                        garanzia estesa su tutti i lavori.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-headset"></i>
                    </div>
                    <h5 class="fw-bold mb-3">Supporto 24/7</h5>
                    <p class="text-muted">
                        Il nostro team è sempre disponibile per assistenza 
                        e aggiornamenti sui lavori.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-percentage"></i>
                    </div>
                    <h5 class="fw-bold mb-3">Bonus Fiscali</h5>
                    <p class="text-muted">
                        Ti aiutiamo a ottenere tutti i bonus fiscali disponibili 
                        con pratiche semplificate.
                    </p>
                </div>
            </div>
            
            <div class="col-lg-4 col-md-6">
                <div class="feature-card text-center">
                    <div class="feature-icon mx-auto">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h5 class="fw-bold mb-3">App Mobile</h5>
                    <p class="text-muted">
                        Monitora i progressi, comunica con l'impresa e gestisci 
                        tutto dalla nostra app.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-5 bg-primary text-white">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <h2 class="fw-bold mb-3">Pronto a Iniziare?</h2>
                <p class="lead mb-0">
                    Inizia subito la diagnosi gratuita della tua casa e scopri 
                    quanto puoi risparmiare con i nostri pacchetti.
                </p>
            </div>
            <div class="col-lg-4 text-lg-end">
                <a href="{% url 'core:pacchetti' %}" class="btn btn-light btn-lg">
                    <i class="fas fa-rocket me-2"></i>Inizia Ora
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
// Intersection Observer per animazioni
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.animation = 'fadeInUp 0.8s ease forwards';
        }
    });
}, observerOptions);

// Osserva tutti gli elementi con classe step-card
document.querySelectorAll('.step-card, .feature-card').forEach(card => {
    observer.observe(card);
});

// Parallax effect per hero
window.addEventListener('scroll', () => {
    const scrolled = window.pageYOffset;
    const heroContent = document.querySelector('.hero-content');
    if (heroContent) {
        heroContent.style.transform = `translateY(${scrolled * 0.5}px)`;
    }
});

// Smooth scroll per link interni
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});
</script>
{% endblock %}
